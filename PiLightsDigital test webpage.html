<!DOCTYPE html>
<html>
<body>

<h2>PiLightsDigital testing</h2>

<input type="text" name="urlName" id="urlInput" value="http://192.168.1.17">
<br>
<br>
<button onClick="solid()">Solid color</button>
<br>
<button onClick="rainbow()">Rainbow</button>
<br>
<button onClick="fade()">Fade</button>
<br>
<br>
<button onClick="off()">Off</button>



<script>
function solid() {
  u = document.getElementById("urlInput").value;
  url = u + ":5000/solid?r=5&g=10&b=10"
  console.log(url);

  a = httpGetAsync(url, null);
}
function rainbow(){
  u = document.getElementById("urlInput").value;
  url = u + ":5000/rainbow"
  console.log(url);

  a = httpGetAsync(url, null);
}
function fade(){
  c1 = "FF0000";
  c2 = "00FF00";
  c3 = "0000FF";

  u = document.getElementById("urlInput").value;
  url = u + ':5000/fade?a=' + c1 + '&b=' + c2 + '&c=' + c3
  console.log(url);

  a = httpGetAsync(url, null);
}
function off() {
  u = document.getElementById("urlInput").value;
  url = u + ":5000/off"
  console.log(url);

  a = httpGetAsync(url, null);
}

// function httpGet(theUrl){
//     var xmlHttp = new XMLHttpRequest();
//     xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
//     xmlHttp.send( null );
//     return xmlHttp.responseText;
// }
function httpGetAsync(theUrl, callback){
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.onreadystatechange = function() { 
        if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
            callback(xmlHttp.responseText);
    }
    xmlHttp.open("GET", theUrl, true); // true for asynchronous 
    xmlHttp.send(null);
}
</script>


</body>
</html>
